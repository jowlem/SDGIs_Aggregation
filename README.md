The code is written in C++ and use the open-source CFD solver Palabos.

# Palabos

[Palabos](https://palabos.unige.ch/) is an open-source CFD solver based on the [lattice Boltzmann method](https://palabos.unige.ch/lattice-boltzmann/what-lattice-boltzmann/). 
On this page you can download the source code, [access examples](https://gitlab.com/unigespc/palabos/tree/master/examples) and resources, 
and [interact with the user base](http://palabos-forum.unige.ch/).

## How to cite Palabos

```
@article{Palabos2020,
    title = "Palabos: Parallel Lattice Boltzmann Solver",
    journal = "Computers & Mathematics with Applications",
    year = "2020",
    issn = "0898-1221",
    doi = "https://doi.org/10.1016/j.camwa.2020.03.022",
    author = "Jonas Latt and Orestis Malaspinas and Dimitrios Kontaxakis and Andrea Parmigiani and Daniel Lagrava and Federico Brogi and Mohamed Ben Belgacem and Yann Thorimbert and Sébastien Leclaire and Sha Li and Francesco Marson and Jonathan Lemus and Christos Kotsalos and Raphaël Conradin and Christophe Coreixas and Rémy Petkantchin and Franck Raynaud and Joël Beny and Bastien Chopard",
}
```

## Linux Prerequisites

The mandatory packages are the following:

- A modern C++ compiler `gcc` or `clang`
- `make`
- `cmake`

- ## Linux optional prerequisites

The optional but recommended packages are the following:

- [openmpi](https://www.open-mpi.org/), by default all the examples use MPI.
- [imagemagick](https://imagemagick.org/index.php), some examples output `.gif` which are generated by calling `convert`.
- [hdf5](https://www.hdfgroup.org) for the use of hdf5 output.
- [ccache](https://ccache.dev/) to speed up the compilation process.

## Compile the code

Please follow these steps in order to compile the code

```
$ cd aggregationGravInst_diff/build
$ cmake ..
$ make
```
Then to run it without MPI parallelization:

```
$ cd ..
$ ./aggregationGravInst_diff
```

Or if you want to run it in parallel on 4 cores using MPI:
```
$ cd ..
$ mpirun -np 4 aggregationGravInst_diff
```
